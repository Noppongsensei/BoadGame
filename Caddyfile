# Production Caddyfile configuration
# Caddy จะจัดการ HTTPS และ SSL certificates โดยอัตโนมัติ

# Main production domain
avalon-thai.com {  # เปลี่ยนเป็นโดเมนจริงที่ใช้
	encode gzip

	@api path /api/*
	handle @api {
		reverse_proxy backend:8080
	}

	@ws path /ws
	handle @ws {
		reverse_proxy backend:8080
	}

	handle {
		reverse_proxy frontend:3000
	}
}

# Local development configuration
# ใช้สำหรับทดสอบบน localhost เท่านั้น
# ถ้าต้องการทดสอบบน localhost ให้นำ comment ออก
# http://localhost, http://127.0.0.1 {
	encode gzip

	@api path /api/*
	handle @api {
		reverse_proxy backend:8080
	}

	@ws path /ws
	handle @ws {
		reverse_proxy backend:8080
	}

	handle {
		reverse_proxy frontend:3000
	}
}
